<html xmlns="http://www.w3.org/1999/html" lang="en">
<head>
  <title>WNC Supply Sites - Site Management</title>
  <script type="text/javascript" src="contact.js"></script>
  <script type="text/javascript" src="../common.js"></script>
  <link rel="stylesheet" href="../../style.css"/>
  <link rel="stylesheet" href="../../mobile.css"/>
  <link rel="stylesheet" href="../manage.css"/>
  <link rel="stylesheet" href="contact.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {{> header-include }}
</head>

<body>
{{> header }}
<h2>{{siteName}} - Site Contact</h2>

<div class="back-link">
  <a href="/manage/site-selected?siteId={{siteId}}">[&larr; Go Back]</a>
</div>


<h3>Primary Contact Info - visible to authenticated users only</h3>



<div class="data-entry-div vertical">
  <div class="data-field vertical">
    <label for="Contact Name">Name: </label>
    <div class="horizontal">
      <input id="Contact Name" type="text" class="shortTextField" value="{{siteContactName}}" maxlength="24"
             placeholder="Contact person name"/>
      <button onclick="showUpdateConfirmation({{siteId}}, 'Contact Name')" class="update-button">Update</button>
      <div class="green-check hidden" id="Contact Name-update-confirm-checkmark">&#10003;</div>
    </div>
    <div id="Contact Name-update-confirm" class="confirm-text"></div>
  </div>

  <div class="data-field vertical">
    <label for="Contact Number">Phone Number<span class="required">*</span>: </label>
    <div class="horizontal">
      <input id="Contact Number" type="text" class="shortTextField" value="{{siteContactNumber}}" maxlength="24"
             placeholder="555-555-5555"/>
      <button onclick="updatePhoneNumber({{siteId}}, 'Contact Number')" class="update-button">Update</button>
      <div class="green-check hidden" id="Contact Number-update-confirm-checkmark">&#10003;</div>
    </div>
    <div id="Contact Number-update-confirm" class="confirm-text"></div>
  </div>
</div>

<div class="mission-statement">
    The primary contact will receive SMS notifications for delivery confirmation requests. They will be the first
    person contacted to set up deliveries.
</div>


<h3>Additional Site Managers</h3>
<div class="data-entry-div vertical">
  <div class="data-field vertical" id="add-managers-div">

    {{#additionalContacts}}
    <div class="horizontal additional-contact">
      <input class="managerId" type="hidden" value="{{id}}">
      Name: <input class="name" type="text" maxlength="32" value="{{name}}">
      Phone: <input class="phone" type="text" maxlength="16" value="{{phone}}">
      <button onclick="updateContact({{siteId}})">Update</button>
      <div class="errorMessage"></div>
    </div>
    {{/additionalContacts}}
    <!--JS will add rows here -->

  </div>
  <button onclick="addAdditionalManager({{siteId}})">+</button>
  <div class="mission-statement">
    Any additional site managers will be granted access to WNC-supply-sites.com and will be able to register
    using their phone number. They will have full access to manage this site.
  </div>
</div>

<script>
  addAdditionalManager({{siteId}})
</script>

</body>
</html>
