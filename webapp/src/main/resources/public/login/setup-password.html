<html lang="en">
<head>
  <title>WNC Supply Sites - Setup Password</title>
  <script type="text/javascript" src="js/request-access-code.js"></script>
  <script type="text/javascript" src="js/confirm-access-code.js"></script>
  <script type="text/javascript" src="js/send-password.js"></script>
  <link rel="stylesheet" href="setup-password.css"/>
  <link rel="stylesheet" href="../style.css"/>
  <link rel="stylesheet" href="../mobile.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {{> header-include }}
</head>

<body>
<h1>
  <a href="/"><img alt="site-logo" src="/logo/WSS-logo-40x40.png" class="logo-image"/></a>
  WNC Supply Sites
</h1>
<h2>Setup Password</h2>

<div class="larger">
  <div class="horizontal phone-input-form">
    <label class="padding" for="phone-number">Phone Number:</label>
    <input class="padding" id="phone-number" size="13" maxlength="18" placeholder="828.555.5555">
    <button class="sendSmsButton" onclick="sendSms()">Send SMS</button>
  </div>

  <div id="phone-number-error-message" class="errorMessage"></div>

  <div class="mission-statement">
    Enter your phone number above to receive an access code via text message.
  </div>
</div>

<hr>
<h2>Confirm Access Code</h2>

<div class="larger">
  <div class="horizontal confirm-code-form">
    <label class="padding" for="confirm-code">Enter Code:</label>
    <input class="padding" id="confirm-code" size="8" maxlength="6" placeholder="_ _ _ _ _ _">
    <input type="hidden" id="csrf">
    <button class="submitButton" onclick="confirmAccessCode()">Submit</button>
  </div>

  <div id="confirm-code-error-message" class="errorMessage"></div>

  <div class="mission-statement">
    You should soon receive a text message with a passcode. Enter that passcode above.
  </div>
</div>

<hr>

<h2>Set Password</h2>
<div class="larger vertical set-password-form">
  <div class="horizontal">
    <label class="padding" for="password">Password:</label>
    <input type="password" class="padding" id="password" size="12" maxlength="32" placeholder="">
    <button class="submitButton" onclick="sendPassword()">Set Password</button>
    <input type="hidden" id="validationToken">
  </div>
</div>
<div class="left-padded">
  <input id="passwordToggle" type="checkbox" onchange="togglePassword()">
  <label class="showPasswordLabel" for="passwordToggle">Show Password</label>
</div>

<div id="password-error-message" class="errorMessage"></div>

<div class="mission-statement">
  Minimum password length is 5. Passwords are case-sensitive.<br>
  Our recommendation is to use an easy and memorable pass phrase, for example:
  <ul>
    <li>tarheel strong</li>
    <li>jumping rabbit</li>
    <li>big truck</li>
    <li>move stuff</li>
  </ul>
</div>

<hr>

<div class="larger">
  <h3 class="left-padded">Password successfully updated!</h3>
  <div class="mission-statement">
    Use your phone number as 'username' going forward with your new password.
  </div>
  <a href="/">
    <button class="left-padded submitButton">Return Home</button>
  </a>
</div>

</body>
</html>
